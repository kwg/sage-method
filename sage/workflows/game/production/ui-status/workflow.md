# UI Status Workflow

**Version:** 2.0
**Purpose:** Track UI/UX asset pipeline status through story lifecycle

---

## UI Status States

| Status | Meaning | Set By | Next Action |
|--------|---------|--------|-------------|
| `none` | Story has no UI component | PM/SM at creation | N/A or escalate to Pixel |
| `wireframe` | Basic layout exists, no assets | Pixel after layout | Pixel selects assets |
| `placeholder` | Using placeholder/temp assets | Pixel/Dev at implementation | Art team produces finals |
| `final` | Final art integrated | Art/Pixel | Ready for release |

---

## Status Transitions

```
┌─────────┐
│  none   │ ←── Story has no UI component
└─────────┘
     │ PM/SM identifies UI need
     ▼
┌─────────┐
│wireframe│ ←── Basic layout, boxes/wireframes only
└────┬────┘
     │ Pixel creates layout with catalog assets
     ▼
┌─────────────┐
│ placeholder │ ←── Temp art in place, functional UI
└─────┬───────┘
     │ Final art approved and integrated
     ▼
┌─────────┐
│  final  │ ←── Production-ready art
└─────────┘
```

---

## Story Template Fields

### Location in Story

```markdown
## UI/UX

**Status:** none | wireframe | placeholder | final
**Mockup:** tools/ui-preview/project/layouts/{screen-name}.json | N/A
**Design Spec:** [Path to spec] | N/A

### Assets

| Element | Catalog ID | Godot Path | Status |
|---------|------------|------------|--------|
| Button  | wooden-ui  | res://assets/ui/... | placeholder |
```

### Field Descriptions

| Field | Type | Description |
|-------|------|-------------|
| Status | enum | Current UI pipeline stage |
| Mockup | path | Path to layout JSON file or N/A if no UI |
| Design Spec | path | Path to docs/design/specs/*.md |
| Assets table | rows | Each UI element with its asset source and status |

---

## Workflow Integration

### For PM/SM (create-story)

When creating a story:

1. **Does story touch UI?**
   - Yes → Set status to `wireframe`, flag for Pixel
   - No → Set status to `none`

2. **Existing layout?**
   - Yes → Add layout JSON path to Mockup field
   - No → Leave as N/A, Pixel will create

### For Pixel (game-uiux)

When running `*export-specs`:

1. Generate design specification
2. Update story's UI/UX section:
   - Set Mockup to layout JSON path
   - Set Design Spec to generated file path
   - Populate Assets table
3. Set Status to `placeholder` or `final` based on asset availability

### For Dev (game-dev)

When implementing story:

1. Check UI/UX Status field
2. If `placeholder`:
   - Use assets from catalog paths
   - Expect final art replacement later
3. If `final`:
   - Use assets from catalog paths
   - Art is production-ready

### For Art Team

When producing final art:

1. Query stories with status `placeholder`
2. Replace placeholder assets with finals
3. Update story status to `final`
4. Update Assets table status column

---

## Querying Stories by UI Status

### Find Wireframe Stories (Need Layout)

```bash
grep -l "^\*\*Status:\*\* wireframe" docs/sprint-artifacts/**/*.md
```

### Find Placeholder Stories (Need Final Art)

```bash
grep -l "^\*\*Status:\*\* placeholder" docs/sprint-artifacts/**/*.md
```

### Find Final Stories (Ready for Release)

```bash
grep -l "^\*\*Status:\*\* final" docs/sprint-artifacts/**/*.md
```

---

## Pixel Export-Specs Output Format

When Pixel generates specs, produce YAML that matches story fields:

```yaml
# Generated by Pixel *export-specs
# Copy relevant sections to story file

ui_status: placeholder
mockup_path: "tools/ui-preview/project/layouts/main-menu.json"
design_spec: "docs/design/specs/main-menu-spec.md"

assets:
  - element: "Start Button"
    catalog_id: "gui-galore-wooden-ui"
    godot_path: "res://assets/ui/buttons/start_button"
    status: placeholder

  - element: "Background Panel"
    catalog_id: "gui-galore-wooden-ui"
    godot_path: "res://assets/ui/panels/main_panel"
    status: placeholder
```

---

## Story Context XML Integration

The story context generator should include UI info:

```xml
<ui-context>
  <status>placeholder</status>
  <mockup-path>tools/ui-preview/project/layouts/main-menu.json</mockup-path>
  <design-spec>docs/design/specs/main-menu-spec.md</design-spec>
  <assets>
    <asset element="Start Button">
      <catalog-id>gui-galore-wooden-ui</catalog-id>
      <godot-path>res://assets/ui/buttons/start_button</godot-path>
      <status>placeholder</status>
    </asset>
  </assets>
  <implementation-note>
    Use placeholder assets. Final art pending from art team.
    Check layout JSON for exact positioning and element properties.
  </implementation-note>
</ui-context>
```

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | 2025-12-16 | Initial workflow definition |
| 2.0 | 2025-12-17 | Migrated to UI Preview Tool workflow |
